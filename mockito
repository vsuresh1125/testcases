import static org.junit.jupiter.api.Assertions.*;
import static org.mockito.Mockito.*;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.mockito.MockedStatic;
import org.mockito.Mockito;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.TimeZone;

public class MemosDateUtilityTest {

    private MemosDateUtility memosDateUtility;

    @BeforeEach
    void setUp() {
        memosDateUtility = new MemosDateUtility();
    }

    @Test
    void testGetFormattedDate_Success() throws ParseException {
        MemoOutputVO memo = mock(MemoOutputVO.class);
        when(memo.getMemoDate()).thenReturn("20250101");
        when(memo.getMemoTime()).thenReturn("123000");

        String expectedDate = "2025-01-01T17:30:00Z";

        try (MockedStatic<Constants> constantsMock = Mockito.mockStatic(Constants.class)) {
            constantsMock.when(() -> Constants.ISO_8601_DATE_FORMAT).thenReturn("yyyy-MM-dd'T'HH:mm:ss'Z'");
            constantsMock.when(() -> Constants.UTC).thenReturn("UTC");

            String result = MemosDateUtility.getFormattedDate(memo);
            assertEquals(expectedDate, result);
        }
    }

    @Test
    void testGetFormattedDate_NullMemoDate_ReturnsEmptyString() {
        MemoOutputVO memo = mock(MemoOutputVO.class);
        when(memo.getMemoDate()).thenReturn(null);
        when(memo.getMemoTime()).thenReturn("123000");

        String result = MemosDateUtility.getFormattedDate(memo);
        assertEquals("", result);
    }

    @Test
    void testGetFormattedDate_NullMemoTime_ReturnsEmptyString() {
        MemoOutputVO memo = mock(MemoOutputVO.class);
        when(memo.getMemoDate()).thenReturn("20250101");
        when(memo.getMemoTime()).thenReturn(null);

        String result = MemosDateUtility.getFormattedDate(memo);
        assertEquals("", result);
    }

    @Test
    void testGetFormattedDate_ParseException_ReturnsEmptyString() {
        MemoOutputVO memo = mock(MemoOutputVO.class);
        when(memo.getMemoDate()).thenReturn("invalidDate");
        when(memo.getMemoTime()).thenReturn("123000");

        String result = MemosDateUtility.getFormattedDate(memo);
        assertEquals("", result);
    }

    @Test
    void testStringToBoolean_ValidTrueValues_ReturnsTrue() {
        assertTrue(MemosDateUtility.stringToBoolean("Y"));
        assertTrue(MemosDateUtility.stringToBoolean("YES"));
        assertTrue(MemosDateUtility.stringToBoolean("true"));
    }

    @Test
    void testStringToBoolean_InvalidOrNullValues_ReturnsFalse() {
        assertFalse(MemosDateUtility.stringToBoolean(null));
        assertFalse(MemosDateUtility.stringToBoolean("N"));
        assertFalse(MemosDateUtility.stringToBoolean("no"));
    }

    @Test
    void testBooleanToChar_True_ReturnsY() {
        assertEquals("Y", MemosDateUtility.booleanToChar(true));
    }

    @Test
    void testBooleanToChar_False_ReturnsN() {
        assertEquals("N", MemosDateUtility.booleanToChar(false));
    }
}
